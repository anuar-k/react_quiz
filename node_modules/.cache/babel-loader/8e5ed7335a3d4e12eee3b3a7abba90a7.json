{"ast":null,"code":"var _jsxFileName = \"C:\\\\js_project\\\\react-quiz\\\\src\\\\containers\\\\Auth\\\\Auth.js\";\nimport React, { Component } from 'react';\nimport classes from './Auth.module.css';\nimport Button from \"../../components/UI/Button/Button\";\nimport Input from \"../../components/UI/Input/Input\";\nimport is from 'is_js';\n\nclass Auth extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formControls: {\n        email: {\n          value: '',\n          type: 'email',\n          label: 'email',\n          errorMessage: 'Введите корректный email',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            email: true\n          }\n        },\n        password: {\n          value: '',\n          type: 'password',\n          label: 'password',\n          errorMessage: 'Введите корректный пароль',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            minLength: 6\n          }\n        }\n      }\n    };\n\n    this.loginHandler = () => {};\n\n    this.submitHandler = event => {\n      event.preventDefault();\n    };\n\n    this.registerHandler = () => {};\n\n    this.onChangeHandler = (event, controlName) => {\n      const formControls = { ...this.state.formControls\n      };\n      const control = { ...formControls[controlName]\n      };\n      control.value = event.target.value;\n      control.touched = true;\n      control.valid = this.validateControl(control.value, control.validtaion);\n      formControls[controlName] = control;\n      this.setState({\n        formControls\n      });\n    };\n  }\n\n  validateControl(value, validation) {\n    if (!validation) {\n      return true;\n    }\n\n    let isValid = true;\n\n    if (validation.required) {\n      isValid = value.trim() !== '' && isValid;\n    }\n\n    if (validation.email) {\n      isValid = is.email(value) && isValid;\n    }\n\n    if (validation.minLength) {\n      isValid = value.length >= validation.minLength && isValid;\n    }\n\n    return isValid;\n  }\n\n  renderInputs() {\n    return Object.keys(this.state.formControls).map((controlName, index) => {\n      const control = this.state.formControls[controlName];\n      return /*#__PURE__*/React.createElement(Input, {\n        key: controlName + index,\n        type: control.type,\n        value: control.value,\n        valid: control.valid,\n        touched: control.touched,\n        label: control.label,\n        shouldValidate: !!control.validation,\n        errorMessage: control.errorMessage,\n        onChange: event => this.onChangeHandler(event, controlName),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.Auth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      className: classes.AuthForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, this.renderInputs(), /*#__PURE__*/React.createElement(Button, {\n      type: \"success\",\n      onClick: this.loginHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, \" \\u0412\\u043E\\u0439\\u0442\\u0438\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.registerHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, \" \\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"))));\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["C:/js_project/react-quiz/src/containers/Auth/Auth.js"],"names":["React","Component","classes","Button","Input","is","Auth","state","formControls","email","value","type","label","errorMessage","valid","touched","validation","required","password","minLength","loginHandler","submitHandler","event","preventDefault","registerHandler","onChangeHandler","controlName","control","target","validateControl","validtaion","setState","isValid","trim","length","renderInputs","Object","keys","map","index","render","AuthForm"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport classes from './Auth.module.css'\r\nimport Button from \"../../components/UI/Button/Button\";\r\nimport Input from \"../../components/UI/Input/Input\";\r\nimport is from 'is_js'\r\n\r\nclass Auth extends Component {\r\n    state = {\r\n        formControls: {\r\n            email: {\r\n                value: '',\r\n                type: 'email',\r\n                label: 'email',\r\n                errorMessage: 'Введите корректный email',\r\n                valid: false,\r\n                touched: false,\r\n                validation: {\r\n                    required: true,\r\n                    email: true\r\n                }\r\n            },\r\n            password: {\r\n                value: '',\r\n                type: 'password',\r\n                label: 'password',\r\n                errorMessage: 'Введите корректный пароль',\r\n                valid: false,\r\n                touched: false,\r\n                validation: {\r\n                    required: true,\r\n                    minLength: 6,\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    loginHandler = () => {\r\n\r\n    }\r\n\r\n    submitHandler = (event) => {\r\n        event.preventDefault()\r\n    }\r\n\r\n    registerHandler = () => {\r\n\r\n    }\r\n\r\n    onChangeHandler = (event, controlName) => {\r\n        const formControls = {...this.state.formControls}\r\n        const control = {...formControls[controlName]}\r\n        control.value = event.target.value\r\n        control.touched = true\r\n        control.valid = this.validateControl(control.value, control.validtaion)\r\n        formControls[controlName] = control\r\n        this.setState({formControls})\r\n    }\r\n\r\n    validateControl(value, validation) {\r\n        if (!validation) {\r\n            return true\r\n        }\r\n        let isValid = true\r\n\r\n        if (validation.required) {\r\n            isValid = value.trim() !== '' && isValid\r\n        }\r\n        if (validation.email) {\r\n            isValid = is.email(value) && isValid\r\n        }\r\n\r\n        if (validation.minLength) {\r\n            isValid = value.length >= validation.minLength && isValid\r\n        }\r\n\r\n        return isValid\r\n    }\r\n\r\n    renderInputs() {\r\n        return Object.keys(this.state.formControls).map((controlName, index) => {\r\n            const control = this.state.formControls[controlName]\r\n            return (\r\n                <Input\r\n                    key={controlName + index}\r\n                    type={control.type}\r\n                    value={control.value}\r\n                    valid={control.valid}\r\n                    touched={control.touched}\r\n                    label={control.label}\r\n                    shouldValidate={!!control.validation}\r\n                    errorMessage={control.errorMessage}\r\n                    onChange={event => this.onChangeHandler(event, controlName)}\r\n                />\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={classes.Auth}>\r\n                <div>\r\n                    <h1>Авторизация</h1>\r\n                    <form onSubmit={this.submitHandler} className={classes.AuthForm}>\r\n                        {this.renderInputs()}\r\n                        <Button type=\"success\" onClick={this.loginHandler}> Войти</Button>\r\n                        <Button type=\"primary\" onClick={this.registerHandler}> Зарегистрироваться</Button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}